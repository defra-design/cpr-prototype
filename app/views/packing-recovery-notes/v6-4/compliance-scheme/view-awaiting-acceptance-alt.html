{% set serviceName = "EPR for packaging data: manage your recycling obligations" %}

{% extends "layout.html" %}

{% block beforeContent %}
{{ govukBreadcrumbs({
  items: [
    {
      text: "Home",
      href: "https://defra-cpr-prototype.herokuapp.com/obligation/s3/cs-sub-landing-page-s3"
    },
    {
      text: "Accept or reject PRNs and PERNS",
      href: ""
    }

  ]
}) }}
{% endblock %}

{% block pageTitle %}
    {{serviceName}} prototype
{% endblock %}
{% block content %}

<link rel="stylesheet" href="https://govuk-frontend.herokuapp.com/public/stylesheets/govuk-frontend-3.11.0.min.css">
    <script src="https://govuk-frontend.herokuapp.com/public/javascripts/govuk-frontend-3.11.0.min.js"></script>
   
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          var selectAllButton = document.getElementById('select-all');
          var deselectAllButton = document.getElementById('deselect-all');

          selectAllButton.addEventListener('click', function() {
              var checkboxes = document.querySelectorAll('input[type="checkbox"]');
              checkboxes.forEach(function(checkbox) {
                  checkbox.checked = true;
              });
          });

          deselectAllButton.addEventListener('click', function() {
              var checkboxes = document.querySelectorAll('input[type="checkbox"]');
              checkboxes.forEach(function(checkbox) {
                  checkbox.checked = false;
              });
          });
      });
  </script>



<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <form class="form" action="accept-bulk" method="POST">


    <h1 class="govuk-heading-xl">Accept or reject PRNs and PERNs</h1>

      
    <hr class="govuk-section-break govuk-section-break--xl govuk-section-break--visible">

   <!--Filter and sorting starts-->
  
   <a href="#" class="govuk-link">Clear filters</a>.

<div class="govuk-form-group" style="float:right; margin-bottom: 20px;">
  <button class="govuk-button govuk-button--secondary" data-module="govuk-button" onclick="applyFilters()">Apply filters</button>
</div>

<div class="govuk-form-group" style="float:right">
    <label class="govuk-label" id="label1" for="select-filter">
      Filter by
    </label>
    <!--<div id="location-hint" class="govuk-hint">
        This can be different to where you went before
      </div>-->
    <select class="govuk-select" id="select-filter" name="filter" aria-labelledby="label1">
        <option  selected>December waste </option>
    <option value="december-waste">December waste</option>
    <option value="aluminium">Aluminium</option>
    <option value="glass-other">Glass other</option>
    <option value="glass-remelt">Glass re-melt</option>
    <option value="paper-board">Paper, board or fibre-based composite material</option>
    <option value="plastic">Plastic</option>
    <option value="steel">Steel</option>
    <option value="wood">Wood</option>
    </select>
</div>

    <div class="govuk-form-group" style="float:right">
      <label class="govuk-label" id="label2" for="select-sort">
        Sort by
      </label>
      <!--<div id="location-hint" class="govuk-hint">
        This can be different to where you went before
      </div>-->
  <select class="govuk-select" id="select-sort" name="sort" aria-labelledby="label2">
    <option  selected>Date issued (newest first) </option>
    <option value="date-issued-a">Date issued (newest first)</option>
    <option value="date-issued-b">Date issued (oldest first)</option>
    <option value="tonnage-a">Tonnage (heaviest first)</option>
    <option value="tonnage-b">Tonnage (lightest first)</option>
    <option value="material-a">Material (A to Z)</option>
    <option value="material-b">Material (Z to A)</option>
  </select>
</div>
  
<!--Filter and sorting end-->

    
</div>
   
            <table class="govuk-table">
              <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <!--<h2 class="govuk-heading-m">Paper, board or fibre-based composite material</h2>
                <div id="waste-hint" class="govuk-hint">
                  Select the PRNs and PERNs you want to accept. You can also review each one by opening it and selecting 'accept' or 'reject'.
                </div>-->
        
                <tr class="govuk-table__row">
                  <th scope="col" class="govuk-table__header">PRN or PERN number</th>
                  <th scope="col" class="govuk-table__header">Material</th>
                  <th scope="col" class="govuk-table__header">Date issued</th>
                    <th scope="col" class="govuk-table__header">December waste</th>
                  <th scope="col" class="govuk-table__header">Issued by</th>
                  <th scope="col" class="govuk-table__header">Tonnage</th>
                  <th scope="col" class="govuk-table__header">Issuer note</th>
                </tr>
        
        
              </tr>
              </thead>
              <tbody class="govuk-table__body">
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                        <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="select-all" type="checkbox">
                          <label class="govuk-label govuk-checkboxes__label" for="select-all">Select or unselect all PRNs and PERNs on this page</label>
                      </div>
                        </td>
                        <td class="govuk-table__cell"> </td>
                  <td class="govuk-table__cell"></td>
                  <td class="govuk-table__cell"></td>
                    <td class="govuk-table__cell"></td>
                    <td class="govuk-table__cell"></td>
                    <td class="govuk-table__cell"></td>
                  
                </tr>
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-1" name="waste" type="checkbox" value="accept-bulk">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-1">
                              <a href="selected-prn">ER454545540M</a>
                          </label>
                        </div>
                        </div></td>
                  <td class="govuk-table__cell"> Paper, board or fibre-based composite material</td>
                  <td class="govuk-table__cell"> 20 Nov 2025</td>
                  <td class="govuk-table__cell">No</td>
                    <td class="govuk-table__cell">XYZ Reprocessing</td>
                    <td class="govuk-table__cell">65</td>
                    <td class="govuk-table__cell">Purchase order number 34XFY68</td>  
                </tr>
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-2" name="waste" type="checkbox" value="december-waste" onclick="checkItem(this)">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-2">
                              <a href="prn-december-waste-selected">ER454545540M</a>
                          </label>
                        </div>
                        </div></td>
                        <td class="govuk-table__cell"> Paper, board or fibre-based composite material</td>
                  <td class="govuk-table__cell"> 01 Dec 2024</td>
                  <td class="govuk-table__cell">Yes</td>
                    <td class="govuk-table__cell">BYZ Reprocessor</td>
                    <td class="govuk-table__cell">65</td>
                    <td class="govuk-table__cell">Purchase order number 34XFY68</td>  
                </tr>
        
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-3" name="waste" type="checkbox" value="view-awaiting-acceptance-alt-1">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-3">
                              <a href="december-selected-prn">EX454545540M</a>
                          </label>
                        </div>
                        </div></td>
                        <td class="govuk-table__cell"> Paper, board or fibre-based composite material</td>
                  <td class="govuk-table__cell"> 20 Dec 2024</td>
                  <td class="govuk-table__cell">Yes</td>
                    <td class="govuk-table__cell">Exporting International</td>
                    <td class="govuk-table__cell">151</td>
                    <td class="govuk-table__cell"> T2E reference 5689344....</td>
                  
                </tr>
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-4" name="waste" type="checkbox" value="accept-bulk">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-4">
                              <a href="selected-pern">EX454545560M</a>
                          </label>
                        </div>
                        </div></td>
                        <td class="govuk-table__cell"> Aluminium</td>
                  <td class="govuk-table__cell"> 01 Nov 2025</td>
                  <td class="govuk-table__cell">No</td>
                    <td class="govuk-table__cell">Packaging reprocessing Ltd</td>
                    <td class="govuk-table__cell">20</td>
                    <td class="govuk-table__cell">Not provided</td>
                  
                </tr>
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-5" name="waste" type="checkbox" value="accept-bulk">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-5">
                              <a href="selected-prn-dec-2026">ER454545540M</a>
                          </label>
                        </div>
                        </div></td>
                        <td class="govuk-table__cell"> Paper, board or fibre-based composite material</td>
                  <td class="govuk-table__cell"> 01 Dec 2025</td>
                  <td class="govuk-table__cell">Yes</td>
                    <td class="govuk-table__cell">Paperlink International Ltd</td>
                    <td class="govuk-table__cell">100</td>
                    <td class="govuk-table__cell">Ref 345678F</td>
                  
                </tr>
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-6" name="waste" type="checkbox" value="accept-bulk">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-6">
                              <a href="selected-prn">ER454545540M</a>
                          </label>
                        </div>
                        </div></td>
                  <td class="govuk-table__cell"> Plastic</td>
                  <td class="govuk-table__cell"> 10 Nov 2025</td>
                  <td class="govuk-table__cell">No</td>
                    <td class="govuk-table__cell">Paperlink International Ltd</td>
                    <td class="govuk-table__cell">100</td>
                    <td class="govuk-table__cell">Ref 345678F</td>
                  
                </tr>
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-7" name="waste" type="checkbox" value="accept-bulk">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-7">
                              <a href="#">ER454545540M</a>
                          </label>
                        </div>
                        </div></td>
                  <td class="govuk-table__cell"> Steel</td>
                  <td class="govuk-table__cell"> 10 Nov 2025</td>
                  <td class="govuk-table__cell">No</td>
                    <td class="govuk-table__cell">Monoworlded Recycling Ltd</td>
                    <td class="govuk-table__cell">100</td>
                    <td class="govuk-table__cell">Ref 345678F</td>
                  
                </tr>
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-8" name="waste" type="checkbox" value="accept-bulk">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-8">
                              <a href="#">ER454545540M</a>
                          </label>
                        </div>
                        </div></td>
                  <td class="govuk-table__cell"> Wood</td>
                  <td class="govuk-table__cell"> 10 Nov 2025</td>
                  <td class="govuk-table__cell">No</td>
                    <td class="govuk-table__cell">Bolted Brothers Ltd</td>
                    <td class="govuk-table__cell">100</td>
                    <td class="govuk-table__cell">Ref 345678F</td>
                  
                </tr>

                
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-9" name="waste" type="checkbox" value="accept-bulk">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-9">
                              <a href="#">ER454545540M</a>
                          </label>
                        </div>
                        </div></td>
                        <td class="govuk-table__cell"> Glass re-melt</td>
                  <td class="govuk-table__cell"> 10 Nov 2025</td>
                  <td class="govuk-table__cell">No</td>
                    <td class="govuk-table__cell">Monoworlded Recycling Ltd</td>
                    <td class="govuk-table__cell">100</td>
                    <td class="govuk-table__cell">Ref 345678F</td>
                  
                </tr>
        
                <tr class="govuk-table__row">
                  <td class="govuk-table__cell">
                      <div class="govuk-checkboxes__item">
                          <input class="govuk-checkboxes__input" id="waste-01" name="waste" type="checkbox" value="accept-bulk">
                          <label class="govuk-label govuk-checkboxes__label" for="waste-01">
                              <a href="#">ER454545540M</a>
                          </label>
                        </div>
                        </div></td>
                        <td class="govuk-table__cell"> Paper, board or fibre-based composite material</td>
                  <td class="govuk-table__cell"> 10 Nov 2025</td>
                  <td class="govuk-table__cell">No</td>
                    <td class="govuk-table__cell">Bolted Brothers Ltd</td>
                    <td class="govuk-table__cell">100</td>
                    <td class="govuk-table__cell">Ref 345678F</td>
                  
                </tr>
        
             
              </tbody>
            </table>

            <nav class="moj-pagination" aria-label="Pagination navigation">

              <ul class="moj-pagination__list">
                <!--<li class="moj-pagination__item  moj-pagination__item--prev">
                  <a class="moj-pagination__link" href="">Previous<span class="govuk-visually-hidden"> page</span></a>
                </li>
            
                <li class="moj-pagination__item"><a class="moj-pagination__link" href="/page=1" aria-label="Page 1 of 45">1</a></li>-->
            
                <li class="moj-pagination__item moj-pagination__item--active" aria-label="Page 1 of 45" aria-current="page">1</li>
      
                <li class="moj-pagination__item"><a class="moj-pagination__link" href="" aria-label="Page 2 of 5">2</a></li>
              
            
                <li class="moj-pagination__item"><a class="moj-pagination__link" href="" aria-label="Page 3 of 5">3</a></li>
            
                <li class="moj-pagination__item moj-pagination__item--dots">â€¦</li>
            
                <li class="moj-pagination__item"><a class="moj-pagination__link" href="" aria-label="Page 5 of 5">5</a></li>
            
                <li class="moj-pagination__item  moj-pagination__item--next">
                  <a class="moj-pagination__link" href="">Next<span class="govuk-visually-hidden"> page</span></a>
                </li>
              </ul>
              <p class="moj-pagination__results">Showing <b>1</b> to <b>10</b> of <b>45</b> PRNs and PERNs</p>
      
            </nav>
          
       
<br>

<br>
     
    <button class="govuk-button" formaction="accept-bulk">Accept selected PRNs and PERNs</button> <!--<button class=" govuk-button govuk-button--secondary" formaction="reject-bulk" style="margin-left: 20px;">Reject selected PRNs and PERNs</button>-->
</div>
<script src="https://govuk-frontend.herokuapp.com/public/javascripts/govuk-frontend-3.14.0.min.js"></script>

<body>
</form>

<!---X
<script>
  // Example data array
  const data = [
    { prn: 'ER454545540M', material: 'Paper, board or fibre-based composite material', date: '2025-11-20', waste: 'No', issuedBy: 'XYZ Reprocessing', tonnage: 65, issuer: 'Purchase order number 34XFY68' },
    { prn: 'ER454545540M', material: 'Aluminium', date: '2025-11-01', waste: 'No', issuedBy: 'Packaging reprocessing Ltd', tonnage: 65, issuer: 'Purchase order number 34XFY68' },
    { prn: 'EX3484743570M', material: 'Aluminium', date: '2025-11-20', waste: 'No', issuedBy: 'Exporting International', tonnage: 151, status: 'Accepted' },
    { prn: 'EX3484743570M', material: 'Paper, board or fibre-based composite material', date: '2024-12-20', waste: 'Yes', issuedBy: 'Packaging reprocessing Ltd', tonnage: 70, status: 'Accepted' },
    { prn: 'EX3484743570M', material: 'Wood', date: '2025-11-20', waste: 'No', issuedBy: 'Exporting International', tonnage: 100, status: 'Accepted' },
    { prn: 'EX3484743570M', material: 'Paper, board or fibre-based composite material', date: '2025-11-20', waste: 'No', issuedBy: 'XYZ Reprocessing', tonnage: 151, status: 'Accepted' },
    { prn: 'EX3484743570M', material: 'Paper, board or fibre-based composite material', date: '2025-11-20', waste: 'No', issuedBy: 'Exporting International', tonnage: 60, status: 'Accepted' },
    { prn: 'EX3484743570M', material: 'Plastic', date: '2024-12-20', waste: 'No', issuedBy: 'Packaging reprocessing Ltd', tonnage: 100, status: 'Rejected' },
    { prn: 'ER3484743570M', material: 'Glass', date: '2024-12-20', waste: 'No', issuedBy: 'Packaging reprocessing Ltd', tonnage: 70, status: 'Rejected' },
    { prn: 'EX3484743570M', material: 'Steel', date: '2024-12-20', waste: 'Yes', issuedBy: '	Packaging reprocessing Ltd', tonnage: 80, status: 'Cancelled' },

    // Add more data objects here
  ];

  function applyFilters() {
    const filter = document.getElementById('select-filter').value;
    const sort = document.getElementById('select-sort').value;

    let filteredData = data;

    // Apply filter
    if (filter !== 'Filter by') {
      filteredData = filteredData.filter(item => item.status.toLowerCase() === filter.toLowerCase());
    }

    // Apply sort
    if (sort !== 'Sort by') {
      filteredData.sort((a, b) => {
        if (sort === 'date-issued') {
          return new Date(a.date) - new Date(b.date);
        } else if (sort === 'tonnage') {
          return a.tonnage - b.tonnage;
        } else if (sort === 'material') {
          return a.material.localeCompare(b.material);
        }
      });
    }

    // Update table
    const tableBody = document.querySelector('.govuk-table__body');
    tableBody.innerHTML = ''; // Clear existing rows

    filteredData.forEach(item => {
      const row = document.createElement('tr');
      row.className = 'govuk-table__row';
      row.innerHTML = `
        <td class="govuk-table__cell"><a href="#">${item.prn}</a></td>
        <td class="govuk-table__cell">${item.material}</td>
        <td class="govuk-table__cell">${new Date(item.date).toLocaleDateString()}</td>
        <td class="govuk-table__cell">${item.waste}</td>
        <td class="govuk-table__cell">${item.tonnage}</td>
        <td class="govuk-table__cell"><strong class="govuk-tag govuk-tag--${getStatusClass(item.issuer)}">${item.issuer}</strong></td>
      `;
      tableBody.appendChild(row);
    });
  }

  function getStatusClass(issuer) {
    switch (issuer.toLowerCase()) {
      case 'accepted':
        return 'green';
      case 'awaiting acceptance':
        return 'grey';
      case 'rejected':
        return 'red';
      case 'cancelled':
        return 'yellow';
      default:
        return 'grey';
    }
  }

  document.getElementById('select-filter').addEventListener('change', applyFilters);
  document.getElementById('select-sort').addEventListener('change', applyFilters);
</script> -->




{% endblock %}
